# Development Cycle 2025-0002

**Status:** In Progress  
**Start Date:** 2025-08-06  
**Target Completion:** TBD  
**Focus:** Core database architecture and data model implementation for Singventory

## Overview
This development cycle focuses on implementing the foundational database layer for Singventory, including all entity relationships, Room database setup, and basic CRUD operations. The goal is to establish the data persistence foundation that supports all the complex relationships between songs, venues, visits, and performances identified in the design phase.

## Current Work Items

### Phase 1 - Database Entities and Room Setup
**Status:** üìã Open  
**Priority:** Critical  
**Description:** Implement Room database entities, DAOs, and database configuration following PlayStreak's proven MVVM + Repository pattern

#### Phase Progress
**Phase Database Setup:**
- ‚ùå TODO: Create Song entity with all required fields and relationships
- ‚ùå TODO: Create Venue entity with venue-specific data fields
- ‚ùå TODO: Create Visit entity linked to venues with timestamp tracking
- ‚ùå TODO: Create Performance entity linking visits, songs with key adjustments
- ‚ùå TODO: Create SongVenueInfo junction table for venue-specific song data
- ‚ùå TODO: Implement Room database configuration and version management
- ‚ùå TODO: Create DAO interfaces for all entities with required queries

#### Technical Implementation Details
**Database Architecture (Based on Initial_Singventory_Design.md):**
- **Song Entity**: name, artist, referenceKey, preferredKey, lyrics, totalPerformances, lastPerformed
- **Venue Entity**: name, address, cost, roomType, hours, notes, totalVisits, lastVisited  
- **Visit Entity**: venueId, timestamp, notes, amountSpent, explicit end/reopen capability
- **Performance Entity**: visitId, songId, keyAdjustment, notes, timestamp
- **SongVenueInfo Entity**: songId, venueId, venuesSongId, venueKey, keyAdjustment, lyrics override, performanceCount, lastPerformed
- **Musical Key Enum**: Complete chromatic scale with key adjustment calculations

#### Next Steps
- Begin with Song and Venue entities as foundation
- Implement Room database configuration
- Create comprehensive DAO interfaces for complex queries

### Phase 2 - Repository Pattern Implementation  
**Status:** üìã Open  
**Priority:** High  
**Description:** Implement single repository pattern following PlayStreak's architecture for unified data access

#### Phase Progress
**Phase Repository:**
- ‚ùå TODO: Create SingventoryRepository following PlayStreak's pattern
- ‚ùå TODO: Implement CRUD operations for all entities
- ‚ùå TODO: Add complex queries for venue-song relationships
- ‚ùå TODO: Implement data consistency logic for cascading updates
- ‚ùå TODO: Add query methods for user scenarios (impromptu visit, recon visit, repeat visit)

#### Technical Implementation Details
*To be documented as repository implementation progresses*

#### Next Steps
- Design repository interface based on user workflow requirements
- Implement data consistency rules for performance logging

### Phase 3 - Musical Key Management System
**Status:** üìã Open  
**Priority:** High  
**Description:** Implement musical key handling unique to Singventory including key adjustments and calculations

#### Phase Progress
**Phase Key Management:**
- ‚ùå TODO: Create MusicalKey enum with semitone calculations
- ‚ùå TODO: Implement key adjustment calculation algorithms
- ‚ùå TODO: Add key validation and normalization utilities
- ‚ùå TODO: Implement dual key input support (dropdowns + step adjustments)

#### Technical Implementation Details
*To be documented as key management system is implemented*

#### Next Steps
- Define complete chromatic scale enum
- Implement key adjustment calculation logic

## Cycle Notes
- Following PlayStreak's proven Room + Repository + MVVM architecture
- Database schema supports all complex relationships identified in design
- Essential data preservation logic required for future purge functionality
- Key adjustment system is unique requirement not in PlayStreak

## Future Cycles
- UI layer implementation with ViewModels and Fragments
- Import/Export functionality (copy PlayStreak patterns)
- Settings screen with data counters
- Purge data functionality with stats preservation

## Cycle Completion Summary
*[To be added when cycle is completed]*